/* 
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */


var dados_forca = {
    "forca":[
        {
            "sigla": "MB",
            "nome": "Marinha do Brasil",
            "postoGraduacao":[
                {"nome":"Almirante", "sigla":"Alte", "categoria":"ofgen"},
                {"nome":"Almirante de Esquadra", "sigla":"Alte Esq", "categoria":"ofgen"},
                {"nome":"Vice Almirante", "sigla":"V Alte", "categoria":"ofgen"},
                {"nome":"Contra Almirante", "sigla":"C Alte", "categoria":"ofgen"},
                {"nome":"Capitão de Mar e Guerra", "sigla":"CMG", "categoria":"ofsup"},
                {"nome":"Capitão de Fragata", "sigla":"CF", "categoria":"ofsup"},
                {"nome":"Capitão de Corveta", "sigla":"CC", "categoria":"ofsup"},
                {"nome":"Capitão Tenente", "sigla":"CT", "categoria":"ofinter"},
                {"nome":"1º Tenente", "sigla":"1º Ten", "categoria":"ofsubalt"},
                {"nome":"2º Tenente", "sigla":"2º Ten", "categoria":"ofsubalt"},
                {"nome":"Guarda Marinha", "sigla":"GM", "categoria":"ofsubalt"},
                {"nome":"Aspirante", "sigla":"Asp", "categoria":"ofsubalt"},
                {"nome":"Suboficial", "sigla":"SO", "categoria":"praca"},
                {"nome":"1º Sargento", "sigla":"1º SG", "categoria":"praca"},
                {"nome":"2º Sargento", "sigla":"2º SG", "categoria":"praca"},
                {"nome":"3º Sargento", "sigla":"3º SG", "categoria":"praca"},                                
                {"nome":"Cabo", "sigla":"CB", "categoria":"praca1"},
                {"nome":"Soldado (CFN)", "sigla":"Sd", "categoria":"praca1"},
                {"nome":"Marinheiro", "sigla":"MN", "categoria":"praca1"}
            ],
            "estados": [
                {
                    "sigla": "AC",
                    "nome": "Acre",
                    "om": [
                        
                        
                    ]
                },
                {
                    "sigla": "AL",
                    "nome": "Alagoas",
                    "om": [
                        
                    ]
                }
            ]
        },
        {
            "sigla": "EB",
            "nome": "Exército Brasileiro",
            "postoGraduacao":[
                                {"nome":"Marechal", "sigla":"Mar", "categoria":"ofgen"},
                                {"nome":"General de Exército", "sigla":"Gen Ex", "categoria":"ofgen"},
                                {"nome":"General de Divisão", "sigla":"Gen Div", "categoria":"ofgen"},
                                {"nome":"General de Brigada", "sigla":"Gen Bda", "categoria":"ofgen"},
                                {"nome":"Coronel", "sigla":"Cel", "categoria":"ofsup"},
                                {"nome":"Tenente-Coronel", "sigla":"Ten Cel", "categoria":"ofsup"},
                                {"nome":"Major", "sigla":"Maj", "categoria":"ofsup"},
                                {"nome":"Capitão", "sigla":"Cap", "categoria":"ofinter"},
                                {"nome":"1º Tenente", "sigla":"1º Ten", "categoria":"ofsubalt"},
                                {"nome":"2º Tenente", "sigla":"2º Ten", "categoria":"ofsubalt"},
                                {"nome":"Aspirante a Oficial", "sigla":"Asp", "categoria":"ofsubalt"},
                                {"nome":"Cadete", "sigla":"Cad", "categoria":"ofsubalt"},
                                {"nome":"Subtenente", "sigla":"Subten", "categoria":"praca"},
                                {"nome":"1º Sargento", "sigla":"1º Sgt", "categoria":"praca"},
                                {"nome":"2º Sargento", "sigla":"2º Sgt", "categoria":"praca"},
                                {"nome":"3º Sargento", "sigla":"3º Sgt", "categoria":"praca"},                                
                                {"nome":"Cabo", "sigla":"Cb", "categoria":"praca1"},
                                {"nome":"Soldado", "sigla":"Sd", "categoria":"praca1"},
                                {"nome":"Taifeiro-Mor", "sigla":"TM", "categoria":"praca1"},
                                {"nome":"Taifeiro de 1ª Classe", "sigla":"T1", "categoria":"praca1"},
                                {"nome":"Taifeiro de 2ª Classe", "sigla":"T2", "categoria":"praca1"}
                            ],
            "estados": [
                {
                    "sigla": "AC",
                    "nome": "Acre",
                    "om": [
                        {
                            "sigla": "4ª DSM/31º CSM",
                            "nome": "4ª Delegacia do Serviço Militar da 31ª C S M",
                            "cep": "69073-570"
                        },
                        {
                            "sigla": "",
                            "nome": "61º Batalhão de Infantaria de Selva",
                            "cep": "69033-000"
                        },
                        {
                            "sigla": "7º BEC",
                            "nome": "7º Batalhão de Engenharia de Construção"
                        },
                        {
                            "nome": "Comando de Fronteira Acre e 4º Batalhão de Infantaria de Selva"
                        }
                    ]
                },
                {
                    "sigla": "AL",
                    "nome": "Alagoas",
                    "om": [
                        {
                            "sigla": "20ª CSM",
                            "nome": "20ª Circunscrição de Serviço Militar"
                        },
                        {
                            "sigla": "1ª DSM/20º CSM",
                            "nome": "1ª Delegacia do Serviço Militar da 20ª C S M"
                        },
                        {
                            "sigla": "4º DSM/20º CSM",
                            "nome": "4ª Delegacia do Serviço Militar da 20ª C S M"
                        },
                        {
                            "sigla": "5º DSM/20º CSM",
                            "nome": "5ª Delegacia do Serviço Militar da 20ª C S M"
                        },
                        {
                            "sigla": "6º DSM/20º CSM",
                            "nome": "6ª Delegacia do Serviço Militar da 20ª C S M"
                        },
                        {
                            "sigla": "TG 07/015",
                            "nome": "Tiro de Guerra de Arapiraca"
                        },
                        {
                            "sigla": "TG 07/007",
                            "nome": "Tiro de Guerra de Palmeira dos Índios"
                        },
                        {
                            "sigla": "TG 07/008",
                            "nome": "Tiro de Guerra de São José da Laje"
                        },
                        {
                            "sigla": "TG 07/022",
                            "nome": "Tiro de Guerra de Teotônio Vilela"
                        },
                        {
                            "sigla": "59º BIMTZ",
                            "nome": "59º Batalhão de Infantaria Motorizado"
                        }
                    ]
                }
            ]
        },
        {
            "sigla": "FAB",
            "nome": "Força Aérea Brasileira",
            "postoGraduacao":[
                    {"nome":"Marechal do Ar", "sigla":"Mar Ar", "categoria":"ofgen"},
                    {"nome":"Tenente Brigadeiro do Ar", "sigla":"Ten Brig Ar", "categoria":"ofgen"},
                    {"nome":"Major Brigadeiro do Ar", "sigla":"Maj Brig Ar", "categoria":"ofgen"},
                    {"nome":"Brigadeiro", "sigla":"Brig", "categoria":"ofgen"},
                    {"nome":"Coronel", "sigla":"Cel", "categoria":"ofsup"},
                    {"nome":"Tenente-Coronel", "sigla":"Ten Cel", "categoria":"ofsup"},
                    {"nome":"Major", "sigla":"Maj", "categoria":"ofsup"},
                    {"nome":"Capitão", "sigla":"Cap", "categoria":"ofinter"},
                    {"nome":"1º Tenente", "sigla":"1º Ten", "categoria":"ofsubalt"},
                    {"nome":"2º Tenente", "sigla":"2º Ten", "categoria":"ofsubalt"},
                    {"nome":"Aspirante a Oficial", "sigla":"Asp", "categoria":"ofsubalt"},
                    {"nome":"Cadete", "sigla":"Cad", "categoria":"ofsubalt"},
                    {"nome":"Suboficial", "sigla":"SO", "categoria":"praca"},
                    {"nome":"1º Sargento", "sigla":"1S", "categoria":"praca"},
                    {"nome":"2º Sargento", "sigla":"2S", "categoria":"praca"},
                    {"nome":"3º Sargento", "sigla":"3S", "categoria":"praca"},                                
                    {"nome":"Cabo", "sigla":"Cb", "categoria":"praca1"},
                    {"nome":"Soldado de 1ª Classe", "sigla":"S1", "categoria":"praca1"},
                    {"nome":"Soldado de 2ª Classe", "sigla":"S2", "categoria":"praca1"},
                    {"nome":"Taifeiro-Mor", "sigla":"TM", "categoria":"praca1"},
                    {"nome":"Taifeiro de 1ª Classe", "sigla":"T1", "categoria":"praca1"},
                    {"nome":"Taifeiro de 2ª Classe", "sigla":"T2", "categoria":"praca1"}
                ],
            "estados": [
                {
                    "sigla": "AC",
                    "nome": "Acre",
                    "om": [
                        {
                            "sigla": "4ª DSM/31º CSM",
                            "nome": "4ª Delegacia do Serviço Militar da 31ª C S M"
                        },
                        {
                            "sigla": "61º BIS",
                            "nome": "61º Batalhão de Infantaria de Selva"
                        },
                        {
                            "sigla": "7º BEC",
                            "nome": "7º Batalhão de Engenharia de Construção"
                        },
                        {
                            "sigla": "CFAC/4º BIS",
                            "nome": "Comando de Fronteira Acre e 4º Batalhão de Infantaria de Selva"
                        }
                        
                    ]
                },
                {
                    "sigla": "AL",
                    "nome": "Alagoas",
                    "om": [
                        {
                            "sigla": "20ª CSM",
                            "nome": "20ª Circunscrição de Serviço Militar"
                        },
                        {
                            "sigla": "1ª DSM/20º CSM",
                            "nome": "1ª Delegacia do Serviço Militar da 20ª C S M"
                        },
                        {
                            "sigla": "4º DSM/20º CSM",
                            "nome": "4ª Delegacia do Serviço Militar da 20ª C S M"
                        },
                        {
                            "sigla": "5º DSM/20º CSM",
                            "nome": "5ª Delegacia do Serviço Militar da 20ª C S M"
                        },
                        {
                            "sigla": "6º DSM/20º CSM",
                            "nome": "6ª Delegacia do Serviço Militar da 20ª C S M"
                        },
                        {
                            "sigla": "TG 07/015",
                            "nome": "Tiro de Guerra de Arapiraca"
                        },
                        {
                            "sigla": "TG 07/007",
                            "nome": "Tiro de Guerra de Palmeira dos Índios"
                        },
                        {
                            "sigla": "TG 07/008",
                            "nome": "Tiro de Guerra de São José da Laje"
                        },
                        {
                            "sigla": "TG 07/022",
                            "nome": "Tiro de Guerra de Teotônio Vilela"
                        },
                        {
                            "sigla": "59º BIMTZ",
                            "nome": "59º Batalhão de Infantaria Motorizado"
                        }
                    ]
                }
            ]
        }
    ]
};

function limpa_form_end_om(readonly, campo_cep, campo_end, campo_num, campo_est, campo_cid, campo_bairro, campo_comp){
    $(campo_cep).val("");
    $(campo_cep).removeClass("is-invalid");
    $(campo_cep).removeClass("is-valid");
    $(campo_cep).prop("readonly", readonly);
    
    $(campo_end).val("");
    $(campo_end).removeClass("is-invalid");
    $(campo_end).removeClass("is-valid");
    $(campo_end).prop("readonly", readonly);

    $(campo_num).val("");
    $(campo_num).removeClass("is-invalid");
    $(campo_num).removeClass("is-valid");
    $(campo_num).prop("readonly", readonly);

    $(campo_est).val("");
    $(campo_est).removeClass("is-invalid");
    $(campo_est).removeClass("is-valid");
    $(campo_est).prop("readonly", readonly);

    $(campo_cid).val("");
    $(campo_cid).removeClass("is-invalid");
    $(campo_cid).removeClass("is-valid");
    $(campo_cid).prop("readonly", readonly);

    $(campo_bairro).val("");
    $(campo_bairro).removeClass("is-invalid");
    $(campo_bairro).removeClass("is-valid");
    $(campo_bairro).prop("readonly", readonly);

    $(campo_comp).val("");
    $(campo_comp).removeClass("is-invalid");
    $(campo_comp).removeClass("is-valid");
    $(campo_comp).prop("readonly", readonly);
}

//Função para limpar os campos dependentes ao mudar o valor da força
function limpa_form_estado_forca(){
    $("#txtEstadoForca").html("");
    $("#txtEstadoForca").append("<option value=0>Selecione um Estado...</option>");
    $("#txtEstadoForca").removeClass("is-invalid");
    $("#txtEstadoForca").removeClass("is-valid");

    $("#txtNomeOM").html("");
    $("#txtNomeOM").append("<option value=0>Selecione uma Organização Militar...</option>");
    $("#txtNomeOM").removeClass("is-invalid");
    $("#txtNomeOM").removeClass("is-valid");

    $("#txtAbrevOM").val('');
    $("#txtAbrevOM").removeClass("is-invalid");
    $("#txtAbrevOM").removeClass("is-valid");
    
    limpa_form_end_om(true, "#txtEndCepOM", "#txtEndNomeOM", "#txtEndEstadoOM", "#txtEndCidadeOM", "#txtEndBairroOM", "#txtEndCompOM");
}

//Função para limpar os campos dependentes ao mudar o valor do estado da força
function limpa_form_om(){
    $("#txtNomeOM").html("");
    $("#txtNomeOM").append("<option value=0>Selecione uma Organização Militar...</option>");
    $("#txtNomeOM").removeClass("is-invalid");
    $("#txtNomeOM").removeClass("is-valid");

    $("#txtAbrevOM").val('');
    $("#txtAbrevOM").removeClass("is-invalid");
    $("#txtAbrevOM").removeClass("is-valid");
    
    limpa_form_end_om(true, "#txtEndCepOM", "#txtEndNomeOM", "#txtEndEstadoOM", "#txtEndCidadeOM", "#txtEndBairroOM", "#txtEndCompOM");
}

//Função para limpar os campos dependentes ao mudar o valor da om
function limpa_form_abrev_end_om(){
    $("#txtAbrevOM").val('');
    $("#txtAbrevOM").removeClass("is-invalid");
    $("#txtAbrevOM").removeClass("is-valid");
    
    limpa_form_end_om(true, "#txtEndCepOM", "#txtEndNomeOM", "#txtEndEstadoOM", "#txtEndCidadeOM", "#txtEndBairroOM", "#txtEndCompOM");
}


//Função para limpar o select específico
function limpa_select(select, msg){
    $(select).html("");
    $(select).append("<option value=0>Selecione "+ msg +"...</option>");
    $(select).removeClass("is-invalid");
    $(select).removeClass("is-valid");
}

var functioncarregar_forcas = function(select){
    
        $(select).html("");
        $(select).append("<option value=0>Selecione uma Força...</option>");
        $(select).removeClass("is-invalid");
        $(select).removeClass("is-valid");                
        for(var i=0; i<dados_forca.forca.length; i++){
            $(select).append("<option value="+"'"+dados_forca.forca[i].sigla+"'"+">"+dados_forca.forca[i].nome+"</option>");
        }
    
};
                                                                           
//Função para carregar dinamicamente estados referente a força
var functioncarregar_estados = function(select, sigla_forca){    
    for(var i=0; dados_forca.forca.length; i++){
        if(dados_forca.forca[i].sigla == sigla_forca){
                $(select).html("");
                $(select).append("<option value=0>Selecione um Estado...</option>");
                $(select).removeClass("is-invalid");
                $(select).removeClass("is-valid");
            for(var j=0; j<dados_forca.forca[i].postoGraduacao.length; j++){
                $(select).append("<option value="+"'"+dados_forca.forca[i].estados[j].sigla+"'"+">"+dados_forca.forca[i].estados[j].nome+"</option>");
            }   
        }            
    }
};

//Acionamento form Serviços na Amazônia
var qtdeSvAmz = document.querySelectorAll('#fieldsetSvAmz .linha').length + 1;

$("#txtSvAmz").change(function() {    
    if($("#txtSvAmz").val() === "s"){
        $("#divSvAmz").css("display", "block");        
    }
    else if($("#txtSvAmz").val() === "n" || $("#txtSvAmz").val() === "0"){
        $("#divSvAmz").css("display", "none");
        $("#fieldsetSvAmz .linha").remove();
        qtdeSvAmz = 1;
    }
});

                                                
                                            

$("#btnAddSvAmz").click(function(){      
    $("#fieldsetSvAmz").append("<div id=linha"+qtdeSvAmz+" class=\"linha fieldset-interno\">"+
                                "   <div class=form-row>"+
                                "       <div class=\"form-group col-md-6\">"+
                                            "<label for=txtForcaOMSvAmz"+qtdeSvAmz+">Força: <span class=campo-obrigatorio>*</span></label>"+
                                            "<select class=form-control id=txtForcaOMSvAmz"+qtdeSvAmz+" name=txtForcaOMSvAmz></select>"+
                                            "<div class=\"valid-feedback\">Selva!</div>"+
                                            "<div class=\"invalid-feedback\">Campo Obrigatório!</div>"+
                                        "</div>"+ 
                                        "<div class=\"form-group col-md-6\">"+
                                            "<label for=txtEstadoForcaOMSvAmz"+qtdeSvAmz+">Estado: <span class=campo-obrigatorio>*</span></label>"+
                                            "<select class=form-control id=txtEstadoForcaOMSvAmz"+qtdeSvAmz+" name=txtEstadoForcaOMSvAmz></select>"+
                                            "<div class=\"valid-feedback\">Selva!</div>"+
                                            "<div class=\"invalid-feedback\">Campo Obrigatório!</div>"+
                                        "</div>"+
                                    "</div>"+
                                "    <div class=form-row>"+    
                                "        <div class=\"form-group col-md-8\">"+
                                "            <label for=txtOMNomeSvAmz"+qtdeSvAmz+">OM: <span class=\"campo-obrigatorio\">*</span></label>"+
                                "            <input type=\"text\" class=\"form-control\" id=txtOMNomeSvAmz"+qtdeSvAmz+" name=\"txtOMNomeSvAmz\" placeholder=\"Ex.: Centro de Instrução de Guerra na Selva\">"+
                                "            <div class=\"valid-feedback\">Selva!</div>"+
                                "            <div class=\"invalid-feedback\">Campo Obrigatório!</div>"+
                                "        </div>"+
                                "        <div class=\"form-group col-md-4\">"+
                                "            <label for=txtOMAbrevSvAmz"+qtdeSvAmz+">Abreviatura: <span class=\"campo-obrigatorio\">*</span></label>"+
                                "            <input type=\"text\" class=\"form-control\" id=txtOMAbrevSvAmz"+qtdeSvAmz+" name=\"txtOMAbrevSvAmz\" placeholder=\"Ex.: CIGS\">"+
                                "            <div class=\"valid-feedback\">Selva!</div>"+
                                "            <div class=\"invalid-feedback\">Campo Obrigatório!</div>"+
                                "        </div>"+  
                                "    </div>"+  
                                "    <div class=form-row>"+
                                "        <div class=\"form-group col-md-6\">"+
                                "            <label for=txtDInOMSvAmz"+qtdeSvAmz+">De: <span class=\"campo-obrigatorio\">*</span></label>"+
                                "            <input type=\"date\" class=\"form-control\" id=txtDInOMSvAmz"+qtdeSvAmz+" name=\"txtDInOMSvAmz\" placeholder=\"Ex.: 00/00/0000\">"+
                                "            <div class=\"valid-feedback\">Selva!</div>"+
                                "            <div class=\"invalid-feedback invalid-dataInicio\">Campo Obrigatório!</div>"+
                                "        </div>"+
                                "        <div class=\"form-group col-md-6\">"+
                                "            <label for=txtDFimOMSvAmz"+qtdeSvAmz+">Até: <span class=\"campo-obrigatorio\">*</span></label>"+
                                "            <input type=\"date\" class=\"form-control\" id=txtDFimOMSvAmz"+qtdeSvAmz+" name=\"txtDFimOMSvAmz\" placeholder=\"Ex.: 00/00/0000\">"+
                                "            <div class=\"valid-feedback\">Selva!</div>"+
                                "            <div class=\"invalid-feedback invalid-dataFim\">Campo Obrigatório!</div>"+
                                "        </div>"+  
                                "    </div>"+  
                                "    <div class=form-row>"+
                                "        <div class=\"form-group col-md-4\">"+
                                "            <label for=txtFunc1OMSvAmz"+qtdeSvAmz+">Função 1: <span class=\"campo-obrigatorio\">*</span></label>"+
                                "            <input type=\"text\" class=\"form-control\" id=txtFunc1OMSvAmz"+qtdeSvAmz+" name=\"txtFunc1OMSvAmz\" placeholder=\"Ex.: Cmt Pel\">"+
                                "            <div class=\"valid-feedback\">Selva!</div>"+
                                "            <div class=\"invalid-feedback\">Campo Obrigatório!</div>"+
                                "        </div>"+
                                "        <div class=\"form-group col-md-4\">"+
                                "            <label for=txtFunc2OMSvAmz"+qtdeSvAmz+">Função 2: <span class=\"campo-obrigatorio\">*</span></label>"+
                                "            <input type=\"text\" class=\"form-control\" id=txtFunc2OMSvAmz"+qtdeSvAmz+" name=\"txtFunc2OMSvAmz\" placeholder=\"Ex.: Cmt Cia\">"+
                                "            <div class=\"valid-feedback\">Selva!</div>"+
                                "            <div class=\"invalid-feedback\">Campo Obrigatório!</div>"+
                                "        </div>"+  
                                "        <div class=\"form-group col-md-4\">"+
                                "            <label for=txtFunc3OMSvAmz"+qtdeSvAmz+">Função 3: <span class=\"campo-obrigatorio\">*</span></label>"+
                                "            <input type=\"text\" class=\"form-control\" id=txtFunc3OMSvAmz"+qtdeSvAmz+" name=\"txtFunc3OMSvAmz\" placeholder=\"Ex.: Enc Mat\">"+
                                "            <div class=\"valid-feedback\">Selva!</div>"+
                                "            <div class=\"invalid-feedback\">Campo Obrigatório!</div>"+
                                "        </div>"+  
                                "    </div>"+  
                                "</div>");
                        
                        functioncarregar_forcas("#txtForcaOMSvAmz"+qtdeSvAmz);
                        $("select[name=txtForcaOMSvAmz]").change(function(){
                            var sigla_forca = $(this).val();
                            var id = $("div .linha").index();
                            console.log(id);
                            if(sigla_forca != null){
                                functioncarregar_estados("#txtEstadoForcaOMSvAmz"+(id+1), sigla_forca);                
                            }
                        });
    /*functionValidInputTReal("#txtOMNomeSvAmz"+qtdeSvAmz);
    functionValidInputTReal("#txtOMAbrevSvAmz"+qtdeSvAmz);
    functionValidDInOMSvAmzTReal("#txtDInOMSvAmz"+qtdeSvAmz);
    functionValidDFimOMSvAmzTReal("#txtDInOMSvAmz"+qtdeSvAmz, "#txtDFimOMSvAmz"+qtdeSvAmz);
    functionValidInputTReal("#txtFunc1OMSvAmz"+qtdeSvAmz);
    functionValidInputTReal("#txtFunc2OMSvAmz"+qtdeSvAmz);
    functionValidInputTReal("#txtFunc3OMSvAmz"+qtdeSvAmz);*/
    
    qtdeSvAmz++;
});

//Função para carregar dinamicamente as forças e os respectivos estados
function carregar_forca(id, sigla_forca){
    if((id == "txtForca") && (sigla_forca == null)){
        $("#txtForca").html("");
        $("#txtForca").append("<option value=0>Selecione uma Força...</option>");
        $("#txtForca").removeClass("is-invalid");
        $("#txtForca").removeClass("is-valid");        
        
        $("select[name=txtForcaOMSvAmz]").html("");
        $("select[name=txtForcaOMSvAmz]").append("<option value=0>Selecione uma Força...</option>");
        $("select[name=txtForcaOMSvAmz]").removeClass("is-invalid");
        $("select[name=txtForcaOMSvAmz]").removeClass("is-valid");        
        for(var i=0; i<dados_forca.forca.length; i++){
            $("#txtForca").append("<option value="+"'"+dados_forca.forca[i].sigla+"'"+">"+dados_forca.forca[i].nome+"</option>");
            $("select[name=txtForcaOMSvAmz]").append("<option value="+"'"+dados_forca.forca[i].sigla+"'"+">"+dados_forca.forca[i].nome+"</option>");
        }
    }else{
        for(var i=0; dados_forca.forca.length; i++){
            if(dados_forca.forca[i].sigla == sigla_forca){
                $("#txtEstadoForca").html("");
                $("#txtEstadoForca").append("<option value=0>Selecione um Estado...</option>");
                $("#txtEstadoForca").removeClass("is-invalid");
                $("#txtEstadoForca").removeClass("is-valid");
                for(var j=0; j<dados_forca.forca[i].estados.length; j++){
                    $("#txtEstadoForca").append("<option value="+"'"+dados_forca.forca[i].estados[j].sigla+"'"+">"+dados_forca.forca[i].estados[j].nome+"</option>");
                }
            }
        }
    }
};


//Função para carregar dinamicamente om referente ao estado
function carregar_estado_om(id, sigla_forca, estado_om){    
    for(var i=0; dados_forca.forca.length; i++){
        if(dados_forca.forca[i].sigla == sigla_forca){  
            for(var j=0; j<dados_forca.forca[i].estados.length; j++){
                if(dados_forca.forca[i].estados[j].sigla == estado_om){
                    $("#txtNomeOM").html("");
                    $("#txtNomeOM").append("<option value=0>Selecione uma Organização Militar...</option>");
                    $("#txtNomeOM").removeClass("is-invalid");
                    $("#txtNomeOM").removeClass("is-valid");
                    for(var k=0; k<dados_forca.forca[i].estados[j].om.length;k++){
                        $("#txtNomeOM").append("<option value="+"'"+dados_forca.forca[i].estados[j].om[k].sigla+"'"+">"+dados_forca.forca[i].estados[j].om[k].nome+"</option>");
                    }
                }
            }
        }            
    }
};

//Função para carregar dinamicamente estados referente a força
function carregar_estado(id, sigla_forca){    
    for(var i=0; dados_forca.forca.length; i++){
        if(dados_forca.forca[i].sigla == sigla_forca){
                $("#txtEstadoForca").html("");
                $("#txtEstadoForca").append("<option value=0>Selecione um Estado...</option>");
                $("#txtEstadoForca").removeClass("is-invalid");
                $("#txtEstadoForca").removeClass("is-valid");
            for(var j=0; j<dados_forca.forca[i].postoGraduacao.length; j++){
                $("#txtEstadoForca").append("<option value="+"'"+dados_forca.forca[i].estados[j].sigla+"'"+">"+dados_forca.forca[i].estados[j].nome+"</option>");
            }   
        }            
    }
};



//Função para carregar dinamicamente postos/graduações
function carregar_pg(id, sigla_forca){    
    for(var i=0; dados_forca.forca.length; i++){
        if(dados_forca.forca[i].sigla == sigla_forca){
                $("#txtPGradCmtOMcatA").html("");
                $("#txtPGradCmtOMcatA").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradCmtOMcatA").removeClass("is-invalid");
                $("#txtPGradCmtOMcatA").removeClass("is-valid");
                
                $("#txtPGradCmtOMcatB").html("");
                $("#txtPGradCmtOMcatB").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradCmtOMcatB").removeClass("is-invalid");
                $("#txtPGradCmtOMcatB").removeClass("is-valid");
                
                $("#txtPGradCmtOMcatC").html("");
                $("#txtPGradCmtOMcatC").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradCmtOMcatC").removeClass("is-invalid");
                $("#txtPGradCmtOMcatC").removeClass("is-valid");
                
                $("#txtPGradCmtOMcatU").html("");
                $("#txtPGradCmtOMcatU").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradCmtOMcatU").removeClass("is-invalid");
                $("#txtPGradCmtOMcatU").removeClass("is-valid");
                
                $("#txtPGradChImtoOMcatA").html("");
                $("#txtPGradChImtoOMcatA").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradChImtoOMcatA").removeClass("is-invalid");
                $("#txtPGradChImtoOMcatA").removeClass("is-valid");
                
                $("#txtPGradChImtoOMcatB").html("");
                $("#txtPGradChImtoOMcatB").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradChImtoOMcatB").removeClass("is-invalid");
                $("#txtPGradChImtoOMcatB").removeClass("is-valid");
                
                $("#txtPGradChImtoOMcatC").html("");
                $("#txtPGradChImtoOMcatC").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradChImtoOMcatC").removeClass("is-invalid");
                $("#txtPGradChImtoOMcatC").removeClass("is-valid");
                
                $("#txtPGradChImtoOMcatU").html("");
                $("#txtPGradChImtoOMcatU").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradChImtoOMcatU").removeClass("is-invalid");
                $("#txtPGradChImtoOMcatU").removeClass("is-valid");
                
                $("#txtPGradAlcatA").html("");
                $("#txtPGradAlcatA").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradAlcatA").removeClass("is-invalid");
                $("#txtPGradAlcatA").removeClass("is-valid");
                
                $("#txtPGradAlcatB").html("");
                $("#txtPGradAlcatB").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradAlcatB").removeClass("is-invalid");
                $("#txtPGradAlcatB").removeClass("is-valid");
                
                $("#txtPGradAlcatC").html("");
                $("#txtPGradAlcatC").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradAlcatC").removeClass("is-invalid");
                $("#txtPGradAlcatC").removeClass("is-valid");
                
                $("#txtPGradAlcatU").html("");
                $("#txtPGradAlcatU").append("<option value=0>Selecione um Posto/Graduação...</option>");
                $("#txtPGradAlcatU").removeClass("is-invalid");
                $("#txtPGradAlcatU").removeClass("is-valid");
                
            for(var j=0; j<dados_forca.forca[i].postoGraduacao.length; j++){
                if((dados_forca.forca[i].postoGraduacao[j].categoria == "ofgen") || (dados_forca.forca[i].postoGraduacao[j].categoria == "ofsup")){
                    $("#txtPGradCmtOMcatA").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                    $("#txtPGradCmtOMcatB").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                    $("#txtPGradCmtOMcatC").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                    $("#txtPGradCmtOMcatU").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                    
                    $("#txtPGradChImtoOMcatA").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                }
                if((dados_forca.forca[i].postoGraduacao[j].categoria == "ofgen") || (dados_forca.forca[i].postoGraduacao[j].categoria == "ofsup") || (dados_forca.forca[i].postoGraduacao[j].categoria == "ofinter") || (dados_forca.forca[i].postoGraduacao[j].categoria == "ofsubalt")){
                    $("#txtPGradChImtoOMcatB").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                }
                if(dados_forca.forca[i].postoGraduacao[j].categoria != "praca1"){
                    $("#txtPGradChImtoOMcatC").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                    $("#txtPGradChImtoOMcatU").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                }
                if(dados_forca.forca[i].postoGraduacao[j].categoria == "ofsup"){
                    $("#txtPGradAlcatA").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                }
                if((dados_forca.forca[i].postoGraduacao[j].categoria == "ofinter") || (dados_forca.forca[i].postoGraduacao[j].categoria == "ofsubalt")){
                    $("#txtPGradAlcatB").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                }
                if((dados_forca.forca[i].postoGraduacao[j].categoria == "praca")){
                    $("#txtPGradAlcatC").append("<option value="+"'"+dados_forca.forca[i].postoGraduacao[j].sigla+"'"+">"+dados_forca.forca[i].postoGraduacao[j].nome+"</option>");
                }
                
            }
            break;     
        }            
    }
};

//Função para carregar dinamicamente a abreviatura da om e o respectivo endereço
function carregar_sigla_om(id, sigla_forca, estado_om, sigla_om){    
    for(var i=0; dados_forca.forca.length; i++){
        if(dados_forca.forca[i].sigla == sigla_forca){  
            for(var j=0; j<dados_forca.forca[i].estados.length; j++){
                if(dados_forca.forca[i].estados[j].sigla == estado_om){
                    for(var k=0; k<dados_forca.forca[i].estados[j].om.length; k++){
                        if(dados_forca.forca[i].estados[j].om[k].sigla == sigla_om){
                            if((dados_forca.forca[i].estados[j].om[k].sigla != "") && (dados_forca.forca[i].estados[j].om[k].sigla != null)){
                                $("#txtAbrevOM").val(dados_forca.forca[i].estados[j].om[k].sigla);
                                $("#txtAbrevOM").prop("readonly", true);
                            }
                            if((dados_forca.forca[i].estados[j].om[k].cep == "") || (dados_forca.forca[i].estados[j].om[k].cep == null)){
                                limpa_form_end_om(false, "#txtEndCepOM", "#txtEndNomeOM", "#txtEndEstadoOM", "#txtEndCidadeOM", "#txtEndBairroOM", "#txtEndCompOM");                                
                            }
                            if((dados_forca.forca[i].estados[j].om[k].cep != "") && (dados_forca.forca[i].estados[j].om[k].cep != null)){
                                $("#txtEndCepOM").val(dados_forca.forca[i].estados[j].om[k].cep);
                                $("#txtEndCepOM").trigger('change');
                                $("#txtEndCepOM").prop("readonly", true);
                                $("#txtEndNomeOM").prop("readonly", true);
                                $("#txtEndEstadoOM").prop("readonly", true);
                                $("#txtEndCidadeOM").prop("readonly", true);
                                $("#txtEndBairroOM").prop("readonly", true);
                                $("#txtEndCompOM").prop("readonly", true);   
                            }
                            break;
                        }else{
                            $("#txtAbrevOM").val('');
                            $("#txtAbrevOM").prop("readonly", false);
                        }
                    }
                }
            }
            break;
        }           
    }
};

$(function(){
    carregar_forca("txtForca");
    $("#txtAbrevOM").prop("readonly", true);
    
    if($("#txtForca").val() == "0"){
        limpa_form_estado_forca();
        limpa_select("#txtPGradCmtOMcatA", "um Posto/Graduação");
        limpa_select("#txtPGradCmtOMcatB", "um Posto/Graduação");
        limpa_select("#txtPGradCmtOMcatC", "um Posto/Graduação");
        limpa_select("#txtPGradCmtOMcatU", "um Posto/Graduação");
        
        limpa_select("#txtPGradChImtoOMcatA", "um Posto/Graduação");
        limpa_select("#txtPGradChImtoOMcatB", "um Posto/Graduação");
        limpa_select("#txtPGradChImtoOMcatC", "um Posto/Graduação");
        limpa_select("#txtPGradChImtoOMcatU", "um Posto/Graduação");
        
        limpa_select("#txtPGradAlcatA", "um Posto/Graduação");
        limpa_select("#txtPGradAlcatB", "um Posto/Graduação");
        limpa_select("#txtPGradAlcatC", "um Posto/Graduação");
        limpa_select("#txtPGradAlcatU", "um Posto/Graduação");
    }
    
    $("#txtForca").change(function(){
        limpa_form_estado_forca();
        limpa_select("#txtPGradCmtOMcatA", "um Posto/Graduação");
        limpa_select("#txtPGradCmtOMcatB", "um Posto/Graduação");
        limpa_select("#txtPGradCmtOMcatC", "um Posto/Graduação");
        limpa_select("#txtPGradCmtOMcatU", "um Posto/Graduação");
        
        limpa_select("#txtPGradChImtoOMcatA", "um Posto/Graduação");
        limpa_select("#txtPGradChImtoOMcatB", "um Posto/Graduação");
        limpa_select("#txtPGradChImtoOMcatC", "um Posto/Graduação");
        limpa_select("#txtPGradChImtoOMcatU", "um Posto/Graduação");
        
        limpa_select("#txtPGradAlcatA", "um Posto/Graduação");
        limpa_select("#txtPGradAlcatB", "um Posto/Graduação");
        limpa_select("#txtPGradAlcatC", "um Posto/Graduação");
        limpa_select("#txtPGradAlcatU", "um Posto/Graduação");
        
        var sigla_forca = $(this).val();
        
        if($("#txtForca").val() == "0"){
            limpa_form_estado_forca();
            limpa_select("#txtPGradCmtOMcatA", "um Posto/Graduação");
            limpa_select("#txtPGradCmtOMcatB", "um Posto/Graduação");
            limpa_select("#txtPGradCmtOMcatC", "um Posto/Graduação");
            limpa_select("#txtPGradCmtOMcatU", "um Posto/Graduação");
            
            limpa_select("#txtPGradChImtoOMcatA", "um Posto/Graduação");
            limpa_select("#txtPGradChImtoOMcatB", "um Posto/Graduação");
            limpa_select("#txtPGradChImtoOMcatC", "um Posto/Graduação");
            limpa_select("#txtPGradChImtoOMcatU", "um Posto/Graduação");
            
            limpa_select("#txtPGradAlcatA", "um Posto/Graduação");
            limpa_select("#txtPGradAlcatB", "um Posto/Graduação");
            limpa_select("#txtPGradAlcatC", "um Posto/Graduação");
            limpa_select("#txtPGradAlcatU", "um Posto/Graduação");
        }
        if(sigla_forca != null){
            carregar_pg("#txtPG", sigla_forca);
            carregar_forca("#txtEstadoForca", sigla_forca);                
        }
    });
    
    $("#txtEstadoForca").change(function(){
        limpa_form_om();
        
        var estado_om = $(this).val();
        var sigla_forca = $("#txtForca").val();
        
        if($("#txtEstadoForca").val() == "0"){
            limpa_form_om();
        }
        else if($("#txtEstadoForca").val() != null){
            carregar_estado_om("#txtNomeOM", sigla_forca, estado_om);            
        }
    });
    
    $("#txtNomeOM").change(function(){
        var sigla_om = $(this).val();
        var sigla_forca = $("#txtForca").val();
        var estado_om = $("#txtEstadoForca").val();
        if($("#txtNomeOM").val() == "0"){
            limpa_form_abrev_end_om();
        }
        else if($("#txtNomeOM").val() != null){
            carregar_sigla_om("#txtAbrevOM", sigla_forca, estado_om, sigla_om);
        }
    });
});